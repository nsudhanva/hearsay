<link
  rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
  integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
  crossorigin="anonymous"
/>

<style>
  .popup {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    padding: 20px;
    box-sizing: border-box;
    display: none;
  }

  .popup-title {
    margin: 0 0 10px 0;
    font-size: 1.2em;
    font-weight: bold;
  }

  .popup-description {
    margin: 0 0 10px 0;
    font-size: 0.9em;
  }

  .popup-source {
    font-size: 0.8em;
    color: #888;
  }

  .explanations {
    padding: 0;
    margin: 0 0 10px 0;
    list-style: none;
  }

  .explanation {
    padding: 0;
    margin: 10px 0;
  }

  .explanation-title {
    display: inline-block;
    margin: 0;
    padding: 10px 15px;
    background: #f5f5f5;
    border-radius: 5px;
    color: #666;
    font-size: 0.9em;
  }

  .explanation-description {
    margin: 0 0 0 40px;
    padding: 0;
    font-size: 0.8em;
  }
</style>

<div class="container">
  <div class="card-columns">
    {% for article in articles %}
    <div
      class="card"
      onmouseover="showPopup(this)"
      onmouseout="hidePopup(this)"
    >
      <a href="{{ article.link }}" class="card-link">
        <img
          src="https://unsplash.it/640/425?blur"
          class="card-img-top"
          alt="{{ article.headline }}"
        />
      </a>
      <div class="card-body">
        <h5 class="card-title">{{ article.headline }}</h5>
        <p class="card-text">{{ article.short_description }}</p>
        <p class="card-text">
          <small class="text-muted">
            <strong>Category:</strong> {{ article.category }} |
            <strong>Authors:</strong> {{ article.authors }} |
            <strong>Date:</strong> {{ article.date }}
          </small>
        </p>
      </div>
      <div class="popup" style="display: none">
        <h3 class="popup-title">{{ article.headline }}</h3>
        <p class="popup-description">{{ article.description }}</p>
        <p class="popup-source">
          Source: {{ article.source }} | Published on {{ article.date }}
        </p>
        <ul class="explanations">
          {% for explanation in article.explanations %}
          <li class="explanation">
            <span class="explanation-title">{{ explanation.title }}</span>
            <p class="explanation-description">{{ explanation.description }}</p>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<script>
  function showPopup(card) {
    var popup = card.querySelector(".popup");
    popup.style.display = "block";
  }

  function hidePopup(card) {
    var popup = card.querySelector(".popup");
    popup.style.display = "none";
  }
</script>
